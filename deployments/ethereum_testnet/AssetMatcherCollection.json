{
  "address": "0x99428B1e5A8f5985625e9d19Ad0Ea19F33A5f749",
  "abi": [
    {
      "inputs": [],
      "name": "EMPTY",
      "outputs": [
        {
          "internalType": "bytes",
          "name": "",
          "type": "bytes"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "bytes4",
              "name": "assetClass",
              "type": "bytes4"
            },
            {
              "internalType": "bytes",
              "name": "data",
              "type": "bytes"
            }
          ],
          "internalType": "struct LibAsset.AssetType",
          "name": "leftAssetType",
          "type": "tuple"
        },
        {
          "components": [
            {
              "internalType": "bytes4",
              "name": "assetClass",
              "type": "bytes4"
            },
            {
              "internalType": "bytes",
              "name": "data",
              "type": "bytes"
            }
          ],
          "internalType": "struct LibAsset.AssetType",
          "name": "rightAssetType",
          "type": "tuple"
        }
      ],
      "name": "matchAssets",
      "outputs": [
        {
          "components": [
            {
              "internalType": "bytes4",
              "name": "assetClass",
              "type": "bytes4"
            },
            {
              "internalType": "bytes",
              "name": "data",
              "type": "bytes"
            }
          ],
          "internalType": "struct LibAsset.AssetType",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    }
  ],
  "transactionHash": "0x27d6c395b50338e66590992880b7e185d17870e203ed5d70f10e84f0bd56a366",
  "receipt": {
    "to": null,
    "from": "0x9E1bd73820A607b06086b5B5173765a61CEEE7dC",
    "contractAddress": "0x99428B1e5A8f5985625e9d19Ad0Ea19F33A5f749",
    "transactionIndex": 54,
    "gasUsed": "307203",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0xff83af6397db306645b4838164215023b2dddde4a7904948498a3819faac937e",
    "transactionHash": "0x27d6c395b50338e66590992880b7e185d17870e203ed5d70f10e84f0bd56a366",
    "logs": [],
    "blockNumber": 8418130,
    "cumulativeGasUsed": "6167407",
    "status": 1,
    "byzantium": true
  },
  "args": [],
  "solcInputHash": "dd845b0e36e586591191b0b82a64fcdb",
  "metadata": "{\"compiler\":{\"version\":\"0.8.9+commit.e5eed63a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"EMPTY\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"bytes4\",\"name\":\"assetClass\",\"type\":\"bytes4\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"internalType\":\"struct LibAsset.AssetType\",\"name\":\"leftAssetType\",\"type\":\"tuple\"},{\"components\":[{\"internalType\":\"bytes4\",\"name\":\"assetClass\",\"type\":\"bytes4\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"internalType\":\"struct LibAsset.AssetType\",\"name\":\"rightAssetType\",\"type\":\"tuple\"}],\"name\":\"matchAssets\",\"outputs\":[{\"components\":[{\"internalType\":\"bytes4\",\"name\":\"assetClass\",\"type\":\"bytes4\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"internalType\":\"struct LibAsset.AssetType\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"pure\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/custom-matcher/AssetMatcherCollection.sol\":\"AssetMatcherCollection\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":100},\"remappings\":[]},\"sources\":{\"src/custom-matcher/AssetMatcherCollection.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.9;\\n\\nimport \\\"../interfaces/IAssetMatcher.sol\\\";\\nimport \\\"../librairies/LibERC721LazyMint.sol\\\";\\nimport \\\"../librairies/LibERC1155LazyMint.sol\\\";\\n\\ncontract AssetMatcherCollection is IAssetMatcher {\\n    bytes public constant EMPTY = \\\"\\\";\\n\\n    function matchAssets(\\n        LibAsset.AssetType memory leftAssetType,\\n        LibAsset.AssetType memory rightAssetType\\n    ) external pure override returns (LibAsset.AssetType memory) {\\n        if (\\n            (rightAssetType.assetClass == LibAsset.ERC721_ASSET_CLASS) ||\\n            (rightAssetType.assetClass == LibAsset.ERC1155_ASSET_CLASS) ||\\n            (rightAssetType.assetClass == LibERC721LazyMint.ERC721_LAZY_ASSET_CLASS) ||\\n            (rightAssetType.assetClass == LibERC1155LazyMint.ERC1155_LAZY_ASSET_CLASS) ||\\n            (rightAssetType.assetClass == LibAsset.CRYPTO_PUNKS)\\n        ) {\\n            address leftToken = abi.decode(leftAssetType.data, (address));\\n            (address rightToken, ) = abi.decode(rightAssetType.data, (address, uint));\\n            if (leftToken == rightToken) {\\n                return LibAsset.AssetType(rightAssetType.assetClass, rightAssetType.data);\\n            }\\n        }\\n        return LibAsset.AssetType(0, EMPTY);\\n    }\\n}\\n\",\"keccak256\":\"0x49a01e6e3ec624557208ba027f8ef8cecfb919cb3951f8b598f054a582c3070f\",\"license\":\"MIT\"},\"src/interfaces/IAssetMatcher.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.9;\\n\\nimport \\\"../librairies/LibAsset.sol\\\";\\n\\ninterface IAssetMatcher {\\n    function matchAssets(\\n        LibAsset.AssetType memory leftAssetType,\\n        LibAsset.AssetType memory rightAssetType\\n    ) external view returns (LibAsset.AssetType memory);\\n}\\n\",\"keccak256\":\"0x07d4f1a0fb8742e578f746cd326cc56856eed9c50ac74acd8978d273dc580a19\",\"license\":\"MIT\"},\"src/librairies/LibAsset.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.9;\\n\\nlibrary LibAsset {\\n    bytes4 public constant ETH_ASSET_CLASS = bytes4(keccak256(\\\"ETH\\\"));\\n    bytes4 public constant ERC20_ASSET_CLASS = bytes4(keccak256(\\\"ERC20\\\"));\\n    bytes4 public constant ERC721_ASSET_CLASS = bytes4(keccak256(\\\"ERC721\\\"));\\n    bytes4 public constant ERC1155_ASSET_CLASS = bytes4(keccak256(\\\"ERC1155\\\"));\\n    bytes4 public constant COLLECTION = bytes4(keccak256(\\\"COLLECTION\\\"));\\n    bytes4 public constant CRYPTO_PUNKS = bytes4(keccak256(\\\"CRYPTO_PUNKS\\\"));\\n\\n    bytes32 public constant ASSET_TYPE_TYPEHASH = keccak256(\\\"AssetType(bytes4 assetClass,bytes data)\\\");\\n\\n    bytes32 public constant ASSET_TYPEHASH =\\n        keccak256(\\\"Asset(AssetType assetType,uint256 value)AssetType(bytes4 assetClass,bytes data)\\\");\\n\\n    struct AssetType {\\n        bytes4 assetClass;\\n        bytes data;\\n    }\\n\\n    struct Asset {\\n        AssetType assetType;\\n        uint256 value;\\n    }\\n\\n    function hash(AssetType memory assetType) internal pure returns (bytes32) {\\n        return keccak256(abi.encode(ASSET_TYPE_TYPEHASH, assetType.assetClass, keccak256(assetType.data)));\\n    }\\n\\n    function hash(Asset memory asset) internal pure returns (bytes32) {\\n        return keccak256(abi.encode(ASSET_TYPEHASH, hash(asset.assetType), asset.value));\\n    }\\n}\\n\",\"keccak256\":\"0x10f962b944a4ffa957d22d70073318bc5376a3666d6e6b858affc8eb258d7d8d\",\"license\":\"MIT\"},\"src/librairies/LibERC1155LazyMint.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.9;\\n\\nimport \\\"./LibPart.sol\\\";\\n\\nlibrary LibERC1155LazyMint {\\n    bytes4 public constant ERC1155_LAZY_ASSET_CLASS = bytes4(keccak256(\\\"ERC1155_LAZY\\\"));\\n\\n    struct Mint1155Data {\\n        uint tokenId;\\n        string tokenURI;\\n        uint amount;\\n        address minter;\\n        LibPart.Part[] royalties;\\n        bytes signature;\\n    }\\n\\n    bytes32 public constant MINT_AND_TRANSFER_TYPEHASH =\\n        keccak256(\\n            \\\"Mint1155(uint256 tokenId,string tokenURI,uint256 amount,address minter,Part[] royalties)Part(address recipient,uint256 value)\\\"\\n        );\\n\\n    function hash(Mint1155Data memory data) internal pure returns (bytes32) {\\n        bytes32[] memory royaltiesBytes = new bytes32[](data.royalties.length);\\n        uint length = data.royalties.length;\\n        for (uint i; i < length; ++i) {\\n            royaltiesBytes[i] = LibPart.hash(data.royalties[i]);\\n        }\\n        return\\n            keccak256(\\n                abi.encode(\\n                    MINT_AND_TRANSFER_TYPEHASH,\\n                    data.tokenId,\\n                    keccak256(bytes(data.tokenURI)),\\n                    data.amount,\\n                    data.minter,\\n                    keccak256(abi.encodePacked(royaltiesBytes))\\n                )\\n            );\\n    }\\n}\\n\",\"keccak256\":\"0x47be425101670fa8dce1529ea5c1e2890c833040fbf9a13ce4cbe2eaa4e690e7\",\"license\":\"MIT\"},\"src/librairies/LibERC721LazyMint.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.9;\\n\\nimport \\\"./LibPart.sol\\\";\\n\\nlibrary LibERC721LazyMint {\\n    bytes4 public constant ERC721_LAZY_ASSET_CLASS = bytes4(keccak256(\\\"ERC721_LAZY\\\"));\\n\\n    struct Mint721Data {\\n        uint tokenId;\\n        string tokenURI;\\n        address minter;\\n        LibPart.Part[] royalties;\\n        bytes signature;\\n    }\\n\\n    bytes32 public constant MINT_AND_TRANSFER_TYPEHASH =\\n        keccak256(\\n            \\\"Mint721(uint256 tokenId,string tokenURI,address minter,Part[] royalties)Part(address recipient,uint256 value)\\\"\\n        );\\n\\n    function hash(Mint721Data memory data) internal pure returns (bytes32) {\\n        bytes32[] memory royaltiesBytes = new bytes32[](data.royalties.length);\\n        uint length = data.royalties.length;\\n        for (uint i; i < length; ++i) {\\n            royaltiesBytes[i] = LibPart.hash(data.royalties[i]);\\n        }\\n        return\\n            keccak256(\\n                abi.encode(\\n                    MINT_AND_TRANSFER_TYPEHASH,\\n                    data.tokenId,\\n                    keccak256(bytes(data.tokenURI)),\\n                    data.minter,\\n                    keccak256(abi.encodePacked(royaltiesBytes))\\n                )\\n            );\\n    }\\n}\\n\",\"keccak256\":\"0xd0a8924d168e58094773f3602b8029b3c8c999410c123569e093dfb81f89ac8a\",\"license\":\"MIT\"},\"src/librairies/LibPart.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.9;\\n\\nlibrary LibPart {\\n    bytes32 public constant TYPE_HASH = keccak256(\\\"Part(address account,uint96 value)\\\");\\n\\n    struct Part {\\n        address payable account;\\n        uint96 value;\\n    }\\n\\n    function hash(Part memory part) internal pure returns (bytes32) {\\n        return keccak256(abi.encode(TYPE_HASH, part.account, part.value));\\n    }\\n}\\n\",\"keccak256\":\"0xedbb696dbf7cd7d5325fc114fd5b7531cf1b1676df98cc5a4cf6330b609ef651\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x608060405234801561001057600080fd5b50610498806100206000396000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c8063023991251461003b5780636d3f7cb014610067575b600080fd5b6100516040518060200160405280600081525081565b60405161005e919061021d565b60405180910390f35b61007a610075366004610365565b610087565b60405161005e91906103c9565b60408051808201909152600081526060602082015281516001600160e01b0319166339d690a360e11b14806100cd575081516001600160e01b03191663025ceed960e61b145b806100e9575081516001600160e01b03191663d8f960c160e01b145b80610104575081516001600160e01b03191662737ea960e61b145b80610120575081516001600160e01b031916630f9ae27560e21b145b156101a6576000836020015180602001905181019061013f919061041b565b90506000836020015180602001905181019061015b9190610436565b509050806001600160a01b0316826001600160a01b031614156101a35750506040805180820190915282516001600160e01b03191681526020808401519082015290506101ca565b50505b50604080518082018252600080825282516020818101909452908152918101919091525b92915050565b6000815180845260005b818110156101f6576020818501810151868301820152016101da565b81811115610208576000602083870101525b50601f01601f19169290920160200192915050565b60208152600061023060208301846101d0565b9392505050565b634e487b7160e01b600052604160045260246000fd5b6040805190810167ffffffffffffffff8111828210171561027057610270610237565b60405290565b604051601f8201601f1916810167ffffffffffffffff8111828210171561029f5761029f610237565b604052919050565b6000604082840312156102b957600080fd5b6102c161024d565b905081356001600160e01b0319811681146102db57600080fd5b815260208281013567ffffffffffffffff808211156102f957600080fd5b818501915085601f83011261030d57600080fd5b81358181111561031f5761031f610237565b610331601f8201601f19168501610276565b9150808252868482850101111561034757600080fd5b80848401858401376000908201840152918301919091525092915050565b6000806040838503121561037857600080fd5b823567ffffffffffffffff8082111561039057600080fd5b61039c868387016102a7565b935060208501359150808211156103b257600080fd5b506103bf858286016102a7565b9150509250929050565b602080825282516001600160e01b031916828201528201516040808301526000906103f760608401826101d0565b949350505050565b80516001600160a01b038116811461041657600080fd5b919050565b60006020828403121561042d57600080fd5b610230826103ff565b6000806040838503121561044957600080fd5b610452836103ff565b915060208301519050925092905056fea264697066735822122094322f0786143648d33f9a83211544b5e29ae536ec7b031ee01282fa644378f064736f6c63430008090033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100365760003560e01c8063023991251461003b5780636d3f7cb014610067575b600080fd5b6100516040518060200160405280600081525081565b60405161005e919061021d565b60405180910390f35b61007a610075366004610365565b610087565b60405161005e91906103c9565b60408051808201909152600081526060602082015281516001600160e01b0319166339d690a360e11b14806100cd575081516001600160e01b03191663025ceed960e61b145b806100e9575081516001600160e01b03191663d8f960c160e01b145b80610104575081516001600160e01b03191662737ea960e61b145b80610120575081516001600160e01b031916630f9ae27560e21b145b156101a6576000836020015180602001905181019061013f919061041b565b90506000836020015180602001905181019061015b9190610436565b509050806001600160a01b0316826001600160a01b031614156101a35750506040805180820190915282516001600160e01b03191681526020808401519082015290506101ca565b50505b50604080518082018252600080825282516020818101909452908152918101919091525b92915050565b6000815180845260005b818110156101f6576020818501810151868301820152016101da565b81811115610208576000602083870101525b50601f01601f19169290920160200192915050565b60208152600061023060208301846101d0565b9392505050565b634e487b7160e01b600052604160045260246000fd5b6040805190810167ffffffffffffffff8111828210171561027057610270610237565b60405290565b604051601f8201601f1916810167ffffffffffffffff8111828210171561029f5761029f610237565b604052919050565b6000604082840312156102b957600080fd5b6102c161024d565b905081356001600160e01b0319811681146102db57600080fd5b815260208281013567ffffffffffffffff808211156102f957600080fd5b818501915085601f83011261030d57600080fd5b81358181111561031f5761031f610237565b610331601f8201601f19168501610276565b9150808252868482850101111561034757600080fd5b80848401858401376000908201840152918301919091525092915050565b6000806040838503121561037857600080fd5b823567ffffffffffffffff8082111561039057600080fd5b61039c868387016102a7565b935060208501359150808211156103b257600080fd5b506103bf858286016102a7565b9150509250929050565b602080825282516001600160e01b031916828201528201516040808301526000906103f760608401826101d0565b949350505050565b80516001600160a01b038116811461041657600080fd5b919050565b60006020828403121561042d57600080fd5b610230826103ff565b6000806040838503121561044957600080fd5b610452836103ff565b915060208301519050925092905056fea264697066735822122094322f0786143648d33f9a83211544b5e29ae536ec7b031ee01282fa644378f064736f6c63430008090033",
  "devdoc": {
    "kind": "dev",
    "methods": {},
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "version": 1
  },
  "storageLayout": {
    "storage": [],
    "types": null
  }
}